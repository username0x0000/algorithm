# Ch 2. 기본 자료구조



## 02 - 1. 배열



- 자료구조 : 데이터 단위와 데이터 자체 사이의 물리적 또는 논리적인 관계



- 배열

  - 배열의 선언 : 자료형 // 배열 이름 // [요소 개수]
  - 배열의 요소 개수 구하기
    - 요소의 크기 : sizeof(a[0])
    - 배열 전체의 크기 : sizeof(a)

- 메모리 할당 기간과 동적 객체 생성

- calloc, malloc 함수는 힙 영역에 메모리를 할당한다.

  - | calloc 함수 |                                                              |
    | :---------: | :----------------------------------------------------------: |
    |    헤더     |                     #include <stdlib.h>                      |
    |    형식     |           void *calloc(size_t nmemb, size_t size);           |
    |    해설     | 크기가 size인 자료가 nmemb개만큼 들어갈 메모리를 할당한다. 할당한 메모리 영역은 모든 비트가 0으로 초기화 된다. |
    |   반환값    | 메모리 할당에 성공하면 할당한 영역의 첫 번째 포인터를 반환하고, 실패하면 NULL 포인터를 반환한다. |

    

  - | malloc 함수 |                                                              |
    | :---------: | :----------------------------------------------------------: |
    |    헤더     |                     #include <stdlib.h>                      |
    |    형식     |                  void *malloc(size_t size);                  |
    |    해설     | 크기가 size인 메모리를 할당한다. 할당한 메모리의 값은 정의되지 않는다. |
    |   반환값    | 메모리 할당에 성공하면 할당한 영역의 첫 번째 포인터를 반환하고, 실패하면 NULL 포인터를 반환한다. |



- free 함수

  - 힙 영역에 할당한 메모리를 해제시킨다.

  - | free 함수 |                                                              |
    | :-------: | :----------------------------------------------------------: |
    |   헤더    |                     #include <stdlib.h>                      |
    |   형식    |                    void free(void *ptr);                     |
    |   해설    | ptr이 가리키는 메모리를 해제하여 이후에 다시 할당할 수 있도록 한다. ptr이 NULL 포인터인 경우 아무것도 하지 않는다. 이때 ptr로 전달된 실인수가 calloc 함수, malloc 함수, realloc 함수에 의해 반환된 포인터가 아니거나 영역이 free 함수, realloc 함수를 호출하여 이미 해제된 영역이면 아무것도 하지 않는다. |
    |  반환값   |                             없음                             |



- 포인터와 배열

  - ```c
    int *p // *p는 int형 객체를 가리키는 포인터
    double *q // *q는 double형 객체를 가리키는 포인터
    p = &n; // n의 주소를 p에 대입
    *p = 999; // p가 가리키는 곳에 999를 대입
    ```

    

- 난수 생성

  ```c
  #include <time.h>
  #include <stdio.h>
  #include <stdlib.h>
  	// rand함수, srand함수, time함수의 선언이 들어있는 헤더
  srand(time(NULL));
  	// 난수의 seed를 초기화하기 위해 srand 함수를 호출
  rand()
      // 난수를 생성하기 위해 rand 함수를 호출
  ```

  

- 다차원 배열

  ```c
  ex)
      int[3] // int 자료형, 단일 요소가 3개인 배열
      int[4][3] // int 자료형, 단일 요소가 3개인 배열을 자료형으로 하는 요소 개수가 4개인 배열
  ```

  

## 02 - 2. 구조체



- 구조체 : 임의의 데이터를 다시 조합하여 만드는 자료구조.

  - 구조체 선언 

    ```c
    ex)
    struct xyz
    {
        int		x;	// int형 멤버
        long	y;	// long형 멤버
        double	z;	// double형 멤버
    };
    
    struct xyz a;
    	// struct xyz형의 a 정의
    
    struct xyz *p = &a;
    	// a를 가리키는 포인터
    
    a.x // 객체 이름. 멤버 이름( 객체 a 안의 멤버 x )
    p.x // 포인터 이름 -> 멤버 이름 ( p가 가리키는 객체 안의 멤버 x )
    typedef struct xyz XYZ; // struct xyz와 동의어인 XYZ를 선언
    XYZ a; // XYZ형 ( 즉, struct xyz형 )의 a
    XYZ *p = &a; // a를 가리키는 XYZ *형 ( 즉, struct xyz *형 )의 포인터 p *
    ```



- 구조체의 배열

  - 기본적인 배열과 사용 구조는 흡사하나, 구성한 구조체를 주의하여야 한다.

    